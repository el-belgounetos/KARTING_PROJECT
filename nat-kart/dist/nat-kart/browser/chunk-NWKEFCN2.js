import{$a as I,$d as R,Ba as v,Ma as w,Na as C,Nd as L,Oa as S,Pa as E,Qa as P,Ra as g,Sa as i,Ta as n,Td as A,Ua as c,Ud as O,W as _,X as M,Xd as z,Yd as D,Zd as U,_d as J,ac as W,ae as q,bb as b,be as G,cb as f,kd as B,nb as k,oa as x,pa as r,qb as m,qd as N,rb as T,sd as j,td as V,ub as s,ud as F,vb as d,wb as u,xa as y}from"./chunk-RZ3LNDEB.js";function H(o,h){if(o&1){let a=I();i(0,"div",24),b("click",function(){let e=_(a).$implicit,p=f();return M(p.selectImage(e))}),c(1,"img",25),n()}if(o&2){let a=h.$implicit,l=f();k("border-primary",l.player.picture===a)("border-transparent",l.player.picture!==a),r(),g("src","http://localhost:8080/images/players/"+a,x)}}function K(o,h){if(o&1&&(i(0,"div",21),m(1," Image s\xE9lectionn\xE9e : "),i(2,"span",26),m(3),n()()),o&2){let a=f();r(3),T(a.player.picture)}}var se=(()=>{class o{apiService;messageService;player={name:"",firstname:"",age:0,email:"",pseudo:"",picture:""};availableImages=[];loading=!1;constructor(a,l){this.apiService=a,this.messageService=l}ngOnInit(){this.loadImages()}loadImages(){this.apiService.get("personnages").subscribe(a=>{a&&(this.availableImages=a)})}selectImage(a){this.player.picture=a}onSubmit(){if(!this.isValid()){this.messageService.add({severity:"warn",summary:"Attention",detail:"Veuillez remplir tous les champs obligatoires et choisir une image."});return}this.loading=!0,this.apiService.post("players",this.player).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Joueur cr\xE9\xE9 avec succ\xE8s !"}),this.resetForm(),this.loading=!1},error:()=>{this.loading=!1}})}isValid(){return!!(this.player.name&&this.player.firstname&&this.player.email&&this.player.pseudo&&this.player.picture)}resetForm(){this.player={name:"",firstname:"",age:0,email:"",pseudo:"",picture:""}}static \u0275fac=function(l){return new(l||o)(y(G),y(B))};static \u0275cmp=v({type:o,selectors:[["app-player-management"]],decls:38,vars:9,consts:[[1,"fixed","inset-0","w-full","h-full","bg-cover","bg-center","-z-10","blur-[3px]",2,"background-image","url('http://localhost:8080/images/wallpapers/wallpaper4.jpeg')"],[1,"w-full","h-[93vh]","bg-[rgba(45,45,45,0.7)]","flex","flex-col","items-center","p-4","overflow-y-auto",2,"background-image","linear-gradient(to right, rgba(255, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px)","background-size","30px 30px"],[1,"bg-gray-800/90","p-8","rounded-2xl","shadow-2xl","border","border-white/10","w-full","max-w-4xl","backdrop-blur-sm"],[1,"text-3xl","font-bold","text-white","text-center","mb-8"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-col","gap-2"],["for","name",1,"text-white","font-semibold"],["pInputText","","id","name","name","name","autocomplete","family-name","placeholder","Nom",3,"ngModelChange","ngModel"],["for","firstname",1,"text-white","font-semibold"],["pInputText","","id","firstname","name","firstname","autocomplete","given-name","placeholder","Pr\xE9nom",3,"ngModelChange","ngModel"],["for","age",1,"text-white","font-semibold"],["inputId","age","name","age","placeholder","Age","styleClass","w-full",3,"ngModelChange","ngModel","min","max"],["for","email",1,"text-white","font-semibold"],["pInputText","","id","email","name","email","autocomplete","email","placeholder","Email",3,"ngModelChange","ngModel"],["for","pseudo",1,"text-white","font-semibold"],["pInputText","","id","pseudo","name","pseudo","autocomplete","username","placeholder","Pseudo",3,"ngModelChange","ngModel"],[1,"text-white","font-semibold"],[1,"bg-gray-700/50","p-4","rounded-xl","border","border-white/10","h-[400px]","overflow-y-auto","custom-scroll"],[1,"grid","grid-cols-4","gap-4"],[1,"cursor-pointer","rounded-lg","p-2","transition-all","hover:bg-white/10","border-2",3,"border-primary","border-transparent"],[1,"text-white","text-center","mt-2"],[1,"flex","justify-center","mt-8"],["label","Cr\xE9er le joueur","icon","pi pi-check","styleClass","w-full md:w-auto px-8 py-3 text-lg",3,"onClick","loading"],[1,"cursor-pointer","rounded-lg","p-2","transition-all","hover:bg-white/10","border-2",3,"click"],[1,"w-full","h-auto","object-contain",3,"src"],[1,"font-bold","text-primary"]],template:function(l,e){l&1&&(c(0,"div",0),i(1,"div",1)(2,"div",2)(3,"h2",3),m(4,"Cr\xE9ation d'un joueur"),n(),i(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),m(9,"Nom"),n(),i(10,"input",8),u("ngModelChange",function(t){return d(e.player.name,t)||(e.player.name=t),t}),n()(),i(11,"div",6)(12,"label",9),m(13,"Pr\xE9nom"),n(),i(14,"input",10),u("ngModelChange",function(t){return d(e.player.firstname,t)||(e.player.firstname=t),t}),n()(),i(15,"div",6)(16,"label",11),m(17,"Age"),n(),i(18,"p-inputNumber",12),u("ngModelChange",function(t){return d(e.player.age,t)||(e.player.age=t),t}),n()(),i(19,"div",6)(20,"label",13),m(21,"Email"),n(),i(22,"input",14),u("ngModelChange",function(t){return d(e.player.email,t)||(e.player.email=t),t}),n()(),i(23,"div",6)(24,"label",15),m(25,"Pseudo"),n(),i(26,"input",16),u("ngModelChange",function(t){return d(e.player.pseudo,t)||(e.player.pseudo=t),t}),n()()(),i(27,"div",5)(28,"label",17),m(29,"Choisir un avatar"),n(),i(30,"div",18)(31,"div",19),E(32,H,2,5,"div",20,S),n()(),w(34,K,4,1,"div",21),n()(),i(35,"div",22)(36,"p-button",23),b("onClick",function(){return e.onSubmit()}),n()()()(),c(37,"p-toast")),l&2&&(r(10),s("ngModel",e.player.name),r(4),s("ngModel",e.player.firstname),r(4),s("ngModel",e.player.age),g("min",0)("max",120),r(4),s("ngModel",e.player.email),r(4),s("ngModel",e.player.pseudo),r(6),P(e.availableImages),r(2),C(e.player.picture?34:-1),r(2),g("loading",e.loading))},dependencies:[W,F,N,j,V,D,z,J,U,O,A,L,q,R],styles:[`.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}
/*# sourceMappingURL=player-management.component.css.map */`]})}return o})();export{se as PlayerManagementComponent};
//# sourceMappingURL=chunk-NWKEFCN2.js.map
